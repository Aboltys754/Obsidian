
Одной из очень важных особенностей фреймворка FastAPI является его способность автоматически генерировать интерактивную документацию API. В этом разделе мы рассмотрим, что это значит и как получить доступ к вашей автоматически сгенерированной документации. 

По умолчанию FastAPI включает поддержку пользовательского интерфейса Swagger и Redoc.

## Спецификация OpenAPI

FastAPI построен вокруг [OpenAPI](https://www.openapis.org/), широко используемый отраслевой стандарт для описания `RESTful API`. Спецификация позволяет изучать и понимать возможности `RESTful API` без необходимости доступа к его исходному коду, документации по продукту или любым другим техническим рекомендациям.

Определение OpenAPI для продукта API существует как стандартный документ `JSON` или `YAML`, который описывает информацию об API, его номере версии, внешних серверах и эндпоинтах. Пути также перечисляют методы HTTP, которые должны выполняться на ресурсах API вместе с их ответами.

Если мы хотим посмотреть, как выглядит необработанная схема OpenAPI, перейдем по адресу [http://127.0.0.1:8000/openapi.json](http://127.0.0.1:8000/openapi.json)

![](https://ucarecdn.stepik.net/aa7daf17-1dcf-4a82-87cc-4f0b59d113b2/)

Мы видим что у нас всего лишь один путь (`"/"`), который принимает GET запрос, это функция `welcome()`.  Инструменты Swagger и Redoc фактически переводят JSON-представление кода API. Они используют определенный код JavaScript и CSS для элегантного представления необработанного формата JSON, в котором присутствует схема API.

Существует множество инструментов генерации схемы API, подобных Swagger и Redoc. Вы также можете легко настроить FastAPI для использования любого из этих инструментов. Но в данном разделе мы рассмотрим лишь встроенные интерфейсы документации.

## Swagger UI

[Swagger UI](https://swagger.io/) - это инструмент, используемый для взаимодействия с API через веб-браузер. Он может работать с любым API, который соответствует спецификации OpenAPI, например, FastAPI.

Пользовательский интерфейс Swagger читает документ OpenAPI, который FastAPI создает из ваших эндпоинтов. Затем он генерирует список этих эндпоинтов, их методов и параметров HTTP, а также операций, доступных для выполнения. Это также позволяет тестировать их в пользовательском интерфейсе Swagger.

Каждое приложение FastAPI имеет страницу пользовательского интерфейса Swagger, сгенерированную из эндпоинтов API. Страница по умолчанию для документации FastAPI Swagger - `/docs/`. Из прошлого раздела у нас есть приложение выводящее "Hello World", запустим его и перейдем по адресу [http://127.0.0.1:8000/docs/](http://127.0.0.1:8000/docs/) и посмотрим документацию:

![](https://ucarecdn.stepik.net/3a88df04-d9e8-434f-94f3-c655c41d6736/)

Доступные маршруты имеют цветовую маркировку по типу запроса. Открытие выпадающих элементов позволяет вам изучить, какие параметры разрешены и какими будут возможные коды ответов.  Интерфейс Swagger также позволяет тестировать маршруты, передавая данные и выполняя запросы.

Развернем наш первый `GET` параметр, соответствующий функции `welcome()`, нажав на стрелку справа. Далее нажмем кнопку "`Try it out`" и посмотрим, есть ли какие-либо параметры, определенные для функции. Поскольку их нет, список параметров пуст.

![](https://ucarecdn.stepik.net/a04c2636-7c92-44f8-8b22-2564169bc9cc/)

Нажмите кнопку `Execute`. И мы увидим всю необходимую информацию, такую как URL запроса и пример команды curl для выполнения аналогичного запроса, а также ответ сервера с кодом состояния, телом и заголовками, которые включают длину и тип контента, а также дату и время ответа.

![](https://ucarecdn.stepik.net/5a0b3247-5c38-4c63-9166-5a3e15f135ec/)

На данный момент у нас простейшая функция, но в следующем разделе мы продолжим работу с документацией, и узнаем как передаются данные и выполняются запросы.

## Redoc

Redoc - это еще один инструмент с открытым исходным кодом от [Redocly](https://redocly.com/redoc/), который генерирует документацию API из определений OpenAPI. Он имеет панель поиска, навигационное меню, документацию и примеры запросов и ответов.

Перейдем по адресу [http://127.0.0.1:8000/redoc](http://127.0.0.1:8000/redoc), чтобы отобразить документацию Redoc.

![](https://ucarecdn.stepik.net/6857da45-5a62-4b22-aa70-923594c43421/)

В данном интерфейсе мы также можем отслеживать все возможности нашего API.

И последним шагом в этом разделе, давайте рассмотрим, как мы можем удалить генерацию документации при инициализации приложения. Например, чтобы отключить `Swagger UI`, можем установить `docs_url=None`, а чтобы отключить `Redoc`, установить `redoc_url=None`.

```python
from fastapi import FastAPI

app = FastAPI(
    docs_url=None,  # Disable docs (Swagger UI)
    redoc_url=None,  # Disable redoc
)


@app.get("/")
async def welcome() -> dict:
    return {"message": "Hello World"}
```

Но нам это делать не нужно, так как далее по курсу мы еще много раз будем обращаться к схеме API, и научимся полноценно работать с ней.