### Кнопки

#### Инлайн-кнопки

Бот может оставлять кнопки под своими сообщениями.

Кнопки под сообщениями (они же inline keyboards / inline buttons) в основном бывают трёх видов:

-   URL button — кнопка с ссылкой.
    
-   Callback button. При нажатии на такую кнопку боту придёт апдейт. С созданием кнопки можно указать параметр, который будет указан в этом апдейте (до 64 байтов). Обычно после нажатий на такие кнопки боты изменяют исходное сообщение или показывают notification или alert.
    
-   Switch to inline button. Кнопка для переключения в инлайн-режим. Кнопка может открывать инлайн в том же чате или открывать меню для выбора чата. Можно указать в кнопке запрос, который появится рядом с никнеймом бота при нажатии на кнопку.

-   Login URL button — специальная кнопка для авторизации пользователей на сайте. Использовалась, например, в официальном боте [@discussbot](http://tg//resolve?domain=discussbot) (до добавления нативных комментариев в Телеграм).
    
-   Callback game button — кнопка для открытия HTML-игры. См. пункт ["HTML-игры"](https://habr.com/ru/post/543676/#games).
    
-   Pay button — кнопка для платежей. См. пункт ["Платежи через ботов"](https://habr.com/ru/post/543676/#payments).


#### Клавиатурные кнопки

Есть другой тип кнопок: keyboard buttons. Они отображаются вместо клавиатуры как подсказки. При нажатии на такую кнопку пользователь просто отправит этот текст.
При этом в личных чатах с помощью кнопки можно:

-   Запросить номер телефона пользователя,
    
-   Запросить геолокацию пользователя,
    
-   Открыть у пользователя меню создания опроса.
    

Есть опция resize_keyboard, которая отвечает за то, изменять ли высоту этой "клавиатуры из кнопок". По умолчанию она, почему-то, выключена, и тогда высота клавиатуры стандартная большая.

Чтобы показать клавиатурные кнопки, бот должен отправить сообщение. Можно отправить клавиатуру, которая свернётся (но не пропадёт) после нажатия на кнопку.

По умолчанию, если показать кнопки в группе, они будут видны всем пользователям. Вместо этого можно отобразить кнопки одновременно для этих пользователей:

-   Для пользователей, юзернеймы которых были в тексте сообщения,
    
-   Если это ответ на другое сообщение: для пользователя, который его отправил.
    

#### Ещё о кнопках

Оба типа кнопок могут составлять несколько рядов, в каждом из которых по несколько кнопок. Ограничения: в ряду может быть до 8 кнопок, а всего с сообщением до 100 кнопок.

При отправке сообщения можно выбрать одно (но не больше) из следующих действий:

-   Добавить к сообщению инлайн-кнопки,
    
-   Показать клавиатурные кнопки,
    
-   Убрать все клавиатурные кнопки,
    
-   Force reply: автоматически заставить пользователя ответить на сообщение. Так произойдёт то же самое, что и при нажатии пользователем кнопки "Ответить". Это нужно для того, чтобы бот мог общаться с пользователями в группах, не нарушая Privacy mode.
    

Таким образом, нельзя показать оба типа кнопок одновременно.