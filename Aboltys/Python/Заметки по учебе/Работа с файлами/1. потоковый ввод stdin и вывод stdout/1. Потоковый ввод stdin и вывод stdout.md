
1. Потоковый ввод `stdin`
2. Потоковый вывод `stdout`

## Потоковый ввод

Поток ввода (`sys.stdin`) — это специальный объект в программе, куда попадает весь текст, который ввёл пользователь. Потоком его называют потому, что данные хранятся в нем до тех пор, пока программа их не прочитала. Таким образом, данные поступают в программу и временно сохраняются в потоке ввода (`sys.stdin`), а программа может забрать их оттуда, например, с помощью встроенной функции `input()`. В момент прочтения, данные пропадают из потока ввода, так как он хранит их до тех пор, пока они не будут прочитаны.

Поток ввода (`sys.stdin`) — является **итератором**, который невозможно перезапустить. Как и любой итератор, он может двигаться только вперёд. Как только данные прочитаны, они удаляются из потока ввода безвозвратно.

Чтобы работать с потоком ввода (`sys.stdin`), необходимо подключить модуль `sys` стандартной командой `import sys`.

```python
import sys 

for line in sys.stdin: 
	print(line.strip('\n'))
```
Если запустить такую программу, то она будет работать вечно. Чтобы показать, что ввод закончен, недостаточно нажать `Enter` — компьютер не знает, завершил ли пользователь работу или будет ещё что-то вводить (при этом `Enter` превратится в пустую строку). Для завершения ввода необходимо ввести `Ctrl + D` (если работаете в консоли Linux или IDE PyCharm), либо `Ctrl + Z`, затем `Enter` (если работаете в консоли Windows).

С помощью потока ввода (`sys.stdin`) можно в одну строчку кода прочитать весь пользовательский ввод в список.
```python
import sys 
data = [line.strip() for line in sys.stdin]

или

import sys 
data = list(map(str.strip, sys.stdin))
```

### Методы read() и readlines()

Как уже было сказано выше, мы можем обойти циклом `for` итератор `sys.stdin`. Кроме того, можно считать все строки из итератора (с сохранением символов перевода строки) в список с помощью метода `readlines()`:
```python
import sys 
data = sys.stdin.readlines()
```
Если разделять на строки нет необходимости, то считать многострочный текст из стандартного потока ввода в текстовую переменную можно с помощью метода `read()`:
```python
import sys 
data = sys.stdin.read()
```

## Потоковый вывод

Аналогичным образом можно работать с потоковым выводом (`sys.stdout`). По умолчанию функция `print()` перенаправляет вывод данных именно в `sys.stdout`, хотя нам ничего не мешает самостоятельно писать в него.

```python
import sys 
print('Hello') 
sys.stdout.write('world!') 
print('from') 
sys.stdout.write('python\n') 
print('Bye-bye')

>>> Hello 
>>> world!from 
>>> python 
>>> Bye-by
```
Bметь в виду, что при использовании потока вывода `sys.stdout` нам нужно самостоятельно преобразовывать данные к строковому типу данных (функция `print()` это делает автоматически).
```python
import sys 
sys.stdout.write(17)
>>> TypeError: write() argument must be str, not int
```
нужно явно переводить в строку
```python
import sys 
sys.stdout.write(str(17)) # преобразуем данные в строку
```
Объекты `sys.stdin` и `sys.stdout` являются файловыми объектами, предоставляемыми ОС. Им доступны все соответствующие методы (`read(), readline(), readlines(), write(), writelines()`). В общем случае, когда программа запускается в интерактивном сеансе, `stdin` является клавиатурным вводом, а `stdout` является выводом на экран, но оболочка может использоваться для перенаправления из обычных файлов или вывода на канал и ввода в другие программы.
```python
import sys
temp = sys.stdout                         # сохраняем исходный потоковый вывод
sys.stdout = open('log.txt', 'w')         # перенаправляем потоковый вывод в файл
print('testing123')
print('another line')
sys.stdout.close()
sys.stdout = temp                         # восстанавливаем исходный потоковый вывод
print('back to normal')
```
приведет к созданию текстового файла `log.txt`, содержащего: 
```python
testing123 
another line
```




