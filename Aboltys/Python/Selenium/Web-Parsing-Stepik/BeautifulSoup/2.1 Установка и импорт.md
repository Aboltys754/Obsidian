


[BeautifulSoup4 (далее bs4)](https://www.crummy.com/software/BeautifulSoup/bs4/doc/ "Модуль BeautifulSoup4 в Python, разбор HTML.") - это, без сомнения, наиболее известная и широко используемая библиотека в Python для парсинга.  
Эта библиотека предоставляет удобные инструменты для навигации, поиска элементов в HTML-структуре, а также для их модификации, хотя последнее, вероятно, будет не так важно для нас, ведь наша цель - извлекать, а не изменять данные.  
Для всех, кто решает погрузиться в мир web-парсинга, bs4 становится одним из ключевых инструментов. В этом разделе курса мы уделим основное внимание работе с этой библиотекой, научимся понимать её принципы действия и, конечно же, научимся применять её на практике, чтобы достигать поставленных перед нами задач.

Так как BeautifulSoup не входит в стандартный набор библиотек Python, его необходимо установить перед тем, как приступить к написанию вашего первого парсера.

**Для Windows**:

- `pip install beautifulsoup4` 
- `pip3 install beautifulsoup4`

**Для Linux**:

- `$ sudo apt-get install python3-bs4`

Будьте внимательны: возможны ошибки при установке, если выбрана не та версия библиотеки. Рекомендуется обращать особое внимание на версии при установке. Актуальная версия на данный момент - bs4.

Поскольку BeautifulSoup4 работает в сочетании с HTML и XML парсерами, их, возможно, придётся установить отдельно.

**Что такое парсер?**

**Парсер** — это специализированный модуль или библиотека, предназначенные для разбора (парсинга) HTML или XML документов и извлечения из них структурированной информации. В контексте веб-скрейпинга и анализа веб-данных парсеры разбирают текстовые документы и преобразуют их в дерево объектов (DOM), с которым затем можно работать, чтобы находить и извлекать нужные данные.

**Основные функции парсера:**

1. **Разбор структуры HTML/XML**: Парсер обрабатывает документ и строит дерево объектов на основе его структуры. Это дерево отражает иерархию тегов HTML или элементов XML.
2. **Извлечение данных**: После построения дерева парсер позволяет навигацию по элементам документа для извлечения данных, таких как текст, атрибуты тегов, или другие элементы.
3. **Обработка ошибок**: Некоторые парсеры, например, `html5lib`, могут справляться с некорректной или неполной разметкой, в то время как другие более строгие, например, `xml` парсер, требуют, чтобы разметка была строго валидной.



Прежде чем приступить к работе, давайте рассмотрим доступные парсеры, их особенности, преимущества и недостатки.

|Парсер|Типичное использование|Преимущества|Недостатки|
|---|---|---|---|
|**html.parser**|`BeautifulSoup(markup, "html.parser")`|- *Мягкий|- Не такой быстрый, как lxml, менее *мягкий, чем html5lib.|
|**lxml**|`BeautifulSoup(markup, "lxml")`|- Очень быстрый<br>- *Мягкий|- Внешняя зависимость|
|**xml**|`BeautifulSoup(markup, "xml"),`<br><br>----------------------------  <br>`BeautifulSoup(markup, "lxml-xml")`|- Очень быстрый<br>- Единственный в настоящее время поддерживаемый парсер XML|- Внешняя зависимость|
|**html5lib**|`BeautifulSoup(markup, "html5lib")`|- *Мягкий<br>- Разбирает страницы так же, как веб-браузер<br>- Создает действительный HTML5|- Очень медленно<br>- Внешняя зависимость Python|

***Мягкий** парсер не проверяет соответствие открывающих и закрывающих тегов. Другими словами, мягкие парсеры будут собирать разметку с сайта, даже если она некорректна или сломана.

Некоторые студенты спрашивают, зачем вообще нужна информация о “мягкости” парсеров и к чему эта “вода”, когда скорее нужно перейти к практике. Ничего, ближе к концу курса вы поймете, что в непростом деле парсинга важна каждая мелочь, особенно когда дело касается того, насколько корректно считывается HTML-разметка =)

Парсеры `**Html5Lib**` и **`lxml`** имеют внешнюю зависимость и поэтому мы должны установить их отдельно.

**Windows** -  : `pip install lxml`

**Windows** -  : `pip install html5lib`

**Linux** - : `$apt-get install python-html5lib`

**Linux** - : `$apt-get install python-lxml`

**`import lxml`**

**`import html5lib`**

На этом установка Красивого Супа завершена, и прошу вас, не стесняйтесь, установите его к себе в систему.